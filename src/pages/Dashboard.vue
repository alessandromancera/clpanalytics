<template>
    <main>
      <section class="container">
        <h2>Dashboard</h2>
          <div>
            <v-card
              max-width="100%"
            >
              <v-card-text>
                <v-row
                >
                  <v-col>
                    <v-card
                      max-width="100%"
                    >
                      <v-card-text>
                        <div><h3>FORNO</h3></div>
                      </v-card-text>
                      <v-card-actions>
                        Lidos:
                        <v-spacer></v-spacer>
                        <h3>{{dataValues.forno}}</h3>
                      </v-card-actions>
                    </v-card>
                  </v-col>

                  <v-col>
                    <v-card
                      max-width="100%"
                    >
                      <v-card-text>
                        <div><h3>ESTEIRA</h3></div>
                      </v-card-text>
                      <v-card-actions>
                        Lidos:
                        <v-spacer></v-spacer>
                        <h3>{{dataValues.esteira}}</h3>
                      </v-card-actions>
                    </v-card>
                  </v-col>

                  <v-col>
                    <v-card
                      max-width="100%"
                    >
                      <v-card-text>
                        <div><h3>FLOWPACK</h3></div>
                      </v-card-text>
                      <v-card-actions>
                        Lidos:
                        <v-spacer></v-spacer>
                        <h3>{{dataValues.flowpack}}</h3>
                      </v-card-actions>
                    </v-card>
                  </v-col>
                </v-row>

                <v-row>
                  <v-col>
                    <v-card
                      max-width="100%"
                    >
                      <v-row>
                        <v-col
                          class="mx-auto"
                          cols="12"
                        >
                          <v-card-text>
                            <div><h4>Gr√°fico dos Detalhes lidos</h4></div>
                          </v-card-text>
                          <v-card-actions>
                            <div class="container mt-5 text-center">
                              <GoogleChart/>
                            </div>
                          </v-card-actions>
                        </v-col>
                      </v-row>
                    </v-card>
                  </v-col>
                </v-row>
              </v-card-text>
            </v-card>

          </div>
      </section>
    </main>
</template>

<script>
import api from '@/services/api.js'
import GoogleChart from '@/components/charts/GoogleCharts.vue'

export default {
  name: 'cDashboard',
  components: {
    GoogleChart
  },
  data: () => ({
    reveal: false,
    dataValues: {
      forno: 0,
      esteira: 0,
      flowpack: 0
    }
  }),
  mounted () {
    this.Carregar('forno/c', 'forno')
    this.Carregar('esteira/c', 'esteira')
    this.Carregar('flowpack/c', 'flowpack')
  },
  methods: {
    Carregar (typeclick, key) {
      const url = `/${typeclick}`
      if (url !== '') {
        api.get(url)
          .then((response) => {
            if (key === 'forno') {
              this.dataValues.forno = response.data
            }
            if (key === 'esteira') {
              this.dataValues.esteira = response.data
            }
            if (key === 'flowpack') {
              this.dataValues.flowpack = response.data
            }
          })
          .catch((error) => {
            console.log('Error')
            console.log(error)
          })
          .finally(() => console.log('Finalizado'))
      }
    }
  }
}
</script>

<style scoped>

main {
      align-items: center;
    }

.v-card--reveal {
      bottom: 0;
      opacity: 1 !important;
      position: absolute;
      width: 100%;
    }
</style>
